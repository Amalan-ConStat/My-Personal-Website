---
title: 'Sri Lanka and its affect on/in Journal Articles '
author: M.Amalan
date: '2019-02-18'
slug: SLandJournal
output:
    blogdown::html_page:
      toc : true
categories:
  - Blog
  - R
  - SL
  - Journal
tags:
  - gganimate
  - tidyverse
  - R package
  - R
  - SL
image:
  caption: ''
  focal_point: ''
summary: "Exploring How has Sri Lanka done in related to Academic Journals."
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,message = FALSE,warning = FALSE,fig.width = 12,fig.height = 12)
```

# Introduction


# Packages and Ideas

```{r Packages and data}
# Data
library(sjrdata)

# Packages
library(tidyverse)
library(gganimate)
library(ggrepel)
library(magrittr)
library(lubridate)
library(splitstackshape)
library(qdap)
library(ggthemr)
ggthemr("flat dark")
```

# Country Information

## Ranking of Sri Lanka from 1996 to 2017

```{r sjr Sri Lanka and rank}
subset(sjr_countries,country=="Sri Lanka") %>%
  mutate(year=year(as.Date(year,"%Y"))) %>%
ggplot(.,aes(x=year,y=rank,label=rank))+
  geom_point()+geom_line()+
  geom_text_repel()+
  xlab("Year")+ylab("Rank")+
  ggtitle("Rank of Sri Lanka Changing from 1996 to 2017")+
  theme(axis.text.x =element_text(angle = 90, hjust = 1))
```

## Documents , Citable Documents and Self Citations from Sri Lanka Journals from 1996 to 2017

```{r sjr Sri Lanka and documents citable documents self citations}
sjr_countries%>%
  gather(citing,values,"documents","citable_documents","self_citations") %>%
  subset(country=="Sri Lanka",select=c(citing,values,year)) %>%
  mutate(year=year(as.Date(year,"%Y"))) %>%
ggplot(.,aes(x=year,y=values,label=values,color=citing,shape=citing))+
  geom_point()+geom_line()+
  geom_text_repel()+
  xlab("Year")+ylab("Counts")+
  scale_x_continuous(breaks=seq(1996,2017),labels=seq(1996,2017))+
  scale_y_continuous(breaks=seq(0,2000,100),labels=seq(0,2000,100))+
  ggtitle("Document Counts Changing from 1996 to 2017 for Sri Lanka")+
  theme(axis.text.x =element_text(angle = 90, hjust = 1))
```

## Citations per Document from Sri Lankan Journals

```{r sjr citations per document}
sjr_countries %>%
   subset(country=="Sri Lanka") %>%
   mutate(year=year(as.Date(year,"%Y"))) %>%
ggplot(.,aes(x=year,y=citations_per_document,
          label=citations_per_document))+
  geom_point()+geom_line()+
  geom_text_repel()+
  xlab("Year")+ylab("Citations Per Document")+
  scale_x_continuous(breaks=seq(1996,2017),labels=seq(1996,2017))+
  scale_y_continuous(breaks=seq(0,30),labels=seq(0,30))+
  ggtitle("Citations Per Document from 1996 to 2017 for Sri Lanka")+
  theme(axis.text.x =element_text(angle = 90, hjust = 1))
```

# Journals from Sri Lanka

## Rank changes for Sri Lankan Journals

```{r rank changes}
p<-subset(sjr_journals,country=="Sri Lanka") %>%
   mutate(year=year(as.Date(year,"%Y"))) %>%
   ggplot(.,aes(x=str_wrap(factor(title),30),y=rank,color=year))+
         geom_jitter()+coord_flip()+
         shadow_mark()+
         transition_time(year)+ease_aes("linear")+
         xlab("Title of Journals")+ylab("Rank")+
         ggtitle("Ranks Changing over time for Sri Lankan Journals from 1999 to 2017",
                 subtitle = "Year : {round(frame_time)}")

animate(p,fps=1,nframes=18)  
```

## SJR values changing for Sri Lankan Journals

```{r sjr changes}
p<-subset(sjr_journals,country=="Sri Lanka") %>%
   mutate(year=year(as.Date(year,"%Y"))) %>%
   ggplot(.,aes(x=str_wrap(factor(title),30),y=sjr,color=year,shape=sjr_best_quartile))+
         geom_jitter()+coord_flip()+
         shadow_mark()+
         transition_time(year)+ease_aes("linear")+
         xlab("Title of Journals")+ylab("SJR values")+
         ggtitle("SJR values Changing over time for Sri Lankan Journals from 1999 to 2017",
                 subtitle = "Year : {round(frame_time)}")+
         theme(legend.position = "bottom")

animate(p,fps=1,nframes=18)  
```

## References per Document changing for Sri Lankan Journals

```{r ref per doc changes}
p<-subset(sjr_journals,country=="Sri Lanka") %>%
   mutate(year=year(as.Date(year,"%Y"))) %>%
   ggplot(.,aes(x=str_wrap(factor(title),30),y=ref_doc,color=year))+
         geom_jitter()+coord_flip()+
         shadow_mark()+
         transition_time(year)+ease_aes("linear")+
         xlab("Title of Journals")+ylab("References per Document")+
         ggtitle("References per Document Changing over time for Sri Lankan Journals from 1999 to 2017",
                 subtitle = "Year : {round(frame_time)}")

animate(p,fps=1,nframes=18)  
```

## Publishers and Journals from Sri Lanka
 
```{r publisher and Journals}
p<-subset(sjr_journals,country=="Sri Lanka") %>%
   mutate(year=year(as.Date(year,"%Y"))) %>%
   ggplot(.,aes(x=str_wrap(factor(title),30),y=str_wrap(factor(publisher),30),color=year))+
   geom_jitter()+
   transition_time(year)+ease_aes("linear")+
   shadow_mark()+
   xlab("Title")+ylab("Publisher")+
   theme(axis.text.x =element_text(angle = 90, hjust = 1))+
   ggtitle("Title and Publishers changing over time for Sri Lankan Journals from 1999 to 2017",
           subtitle = "Year : {round(frame_time)}")

animate(p,fps=1,nframes=18) 
```
 
## Total Documents and References for Journals from Sri Lanka

```{r tot doc and ref}
p<-sjr_journals %>%
    gather(Group,values,"total_docs_year","total_refs") %>%
    subset(country=="Sri Lanka",select=c(Group,values,year,title)) %>%
    mutate(year=year(as.Date(year,"%Y"))) %>%
ggplot(.,aes(x=str_wrap(factor(title),30),y=values,shape=Group,color=year))+
      geom_jitter()+coord_flip()+
      xlab("Title")+ylab("Count")+
      transition_time(year)+ease_aes("linear")+
      shadow_mark()+
      ggtitle("Counts changing for Sri Lankan Journals from 1999 to 2017",
              subtitle = "Year : {round(frame_time)}")+
      theme(legend.position="bottom")

animate(p,nframes=18,fps=1)
```

## Three year time period for Journals from Sri Lanka

```{r 3 doc cite citable year}
p<-sjr_journals %>%
    gather(Group,values,"total_docs_3years","total_cites_3years","citable_docs_3years") %>%
    subset(country=="Sri Lanka",select=c(Group,values,year,title)) %>%
    mutate(year=year(as.Date(year,"%Y"))) %>%
ggplot(.,aes(x=str_wrap(factor(title),30),y=values,shape=Group,color=year))+
      geom_jitter()+coord_flip()+
      xlab("Title")+ylab("Count for 3 years")+
      transition_time(year)+ease_aes("linear")+
      shadow_mark()+
      ggtitle("Counts changing for Sri Lankan Journals from 1999 to 2017",
              subtitle = "Year : {round(frame_time)}")+
      theme(legend.position="bottom")

animate(p,nframes=18,fps=1)
```

## Journals and categories


```{r journals and categories}
p<-sjr_journals %>%
      subset(country=="Sri Lanka") %>%
      select(year,title,categories) %>%
      cSplit("categories",sep=";") %>%
      gather(Groups,Categories,"categories_1","categories_2","categories_3","categories_4") %>%
      mutate(Categories=genX(Categories,"(Q",")")) %>%
      mutate(year=year(as.Date(year,"%Y"))) %>%
ggplot(.,aes(x=str_wrap(factor(title),30),y=str_wrap(Categories,30),shape=Groups,color=year)) +
      geom_jitter()+ 
      theme(axis.text.x =element_text(angle = 90, hjust = 1),
            legend.position="bottom")+
      transition_time(year)+ease_aes("linear")+
      xlab("Title")+ ylab("Categories")+
      ggtitle("Title and Categories between the years 1999 to 2017",
              subtitle="Year :{round(frame_time)}")

animate(p,nframes=18,fps=1)             
```

*THANK YOU*